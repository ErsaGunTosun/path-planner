{% extends 'base.html' %}

{% block body %}
  <div class="map-container">
    <iframe id="mapFrame" class="map-frame" src="/map" title="Folium Map"></iframe>
  </div>

  <div class="top-menu">
    <button class="menu-button" onclick="togglePanel('statistics')" title="İstatistikler"><i class="fa-solid fa-chart-simple"></i></button>
    <button class="menu-button" onclick="togglePanel('controls')" title="Kontroller"><i class="fa-solid fa-gear"></i></button>
    <button class="menu-button" onclick="togglePanel('settings')" title="Ayarlar"><i class="fa-solid fa-sliders"></i></button>
  </div>


  <div id="controls" class="overlay-panel">
        <div class="panel-header">
            <span><i class="fas fa-cogs me-2"></i>Harita Kontrolleri</span>
            <button class="close-btn" onclick="closePanel('controls')">
                <i class="fas fa-times"></i>
            </button>
        </div>
        <div class="panel-content">
            <button class="btn btn-success control-btn" onclick="addMarker()">
                <i class="fas fa-plus me-2"></i>Nokta Ekle
            </button>
            <button class="btn btn-warning control-btn" onclick="editMode()">
                <i class="fas fa-edit me-2"></i>Düzenle
            </button>
            <button class="btn btn-danger control-btn" onclick="deleteSelected()">
                <i class="fas fa-trash me-2"></i>Seçilenleri Sil
            </button>
            <button class="btn btn-info control-btn" onclick="measureDistance()">
                <i class="fas fa-ruler me-2"></i>Mesafe Ölç
            </button>
            <button class="btn btn-primary control-btn" onclick="drawArea()">
                <i class="fas fa-draw-polygon me-2"></i>Bölge Çiz
            </button>
            <hr>
            <button class="btn btn-outline-primary control-btn" onclick="resetMap()">
                <i class="fas fa-undo me-2"></i>Haritayı Sıfırla
            </button>
            <button class="btn btn-outline-success control-btn" onclick="exportData()">
                <i class="fas fa-download me-2"></i>Veri İndir
            </button>
        </div>
    </div>

{% endblock %}
